<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:rich="http://richfaces.org/rich"
	xmlns:a4j="https://ajax4jsf.dev.java.net/ajax"
	xmlns:t="http://myfaces.apache.org/tomahawk">
<ui:composition>
	<script type="text/javascript">
		jQuery(document).ready(function() {	 
 
		});
	</script>
	
	<script type="text/javascript">
            function printObjectsSelected(output, sgcomponent){
            	output.value = sgcomponent.getSelectedItems().pluck('id');
            }
            function showCheckedValue(op){
               if(op==1){
	               //alert(document.getElementById('frmDatosGenerales:perCargod').checked);
	               if(document.getElementById('frmDatosGenerales:perCargod').checked){
	            	   document.getElementById('frmDatosGenerales:idPerCargod').value="1";
	            	   //alert(document.getElementById('frmDatosGenerales:idPerCargod').value);
	            	   document.getElementById('frmDatosGenerales:idNumPerCargo').style.visibility='visible'; 
	            	   document.getElementById('frmDatosGenerales:numPerCargo').style.visibility='visible'; 
	               }else{
	            	   document.getElementById('frmDatosGenerales:idPerCargod').value="0";
	            	   //alert(document.getElementById('frmDatosGenerales:idPerCargod').value);
	            	   document.getElementById('frmDatosGenerales:idNumPerCargo').style.visibility='hidden'; 
	            	   document.getElementById('frmDatosGenerales:numPerCargo').style.visibility='hidden'; 
	               }
               }
               if(op==2){
            	   if(document.getElementById('frmDatosGenerales:tipoContrato').checked){
	            	   document.getElementById('frmDatosGenerales:idTipoContrato').value="1";
	            	   document.getElementById('frmDatosGenerales:idNumDuracion').style.visibility='hidden'; 
	            	   document.getElementById('frmDatosGenerales:numDuracion').style.visibility='hidden'; 
	               }else{
	            	   document.getElementById('frmDatosGenerales:idTipoContrato').value="0"; 
	            	   document.getElementById('frmDatosGenerales:idNumDuracion').style.visibility='visible'; 
	            	   document.getElementById('frmDatosGenerales:numDuracion').style.visibility='visible';
	               }          	   
               }
               if(op==3){
            	   if(document.getElementById('frmDatosGenerales:chkMovilidad').checked){
	            	   document.getElementById('frmDatosGenerales:movilidad').value="1";
	               }else{
	            	   document.getElementById('frmDatosGenerales:movilidad').value="0"; 
	               }          	   
               }
               if(op==4){
            	   if(document.getElementById('frmDatosGenerales:chkRefrigerio').checked){
	            	   document.getElementById('frmDatosGenerales:refrigerio').value="1";
	               }else{
	            	   document.getElementById('frmDatosGenerales:refrigerio').value="0"; 
	               }          	   
               }
               if(op==5){
            	   if(document.getElementById('frmDatosGenerales:chkBonificacion').checked){
	            	   document.getElementById('frmDatosGenerales:bonificacion').value="1";
	               }else{
	            	   document.getElementById('frmDatosGenerales:bonificacion').value="0"; 
	               }          	   
               }
               if(op==6){
            	   if(document.getElementById('frmDatosGenerales:chkSeguro').checked){
	            	   document.getElementById('frmDatosGenerales:seguro').value="1";
	               }else{
	            	   document.getElementById('frmDatosGenerales:seguro').value="0"; 
	               }          	   
               }
               if(op==7){
            	   if(document.getElementById('frmDatosGenerales:chkComisiones').checked){
	            	   document.getElementById('frmDatosGenerales:comisiones').value="1";
	               }else{
	            	   document.getElementById('frmDatosGenerales:comisiones').value="0"; 
	               }          	   
               }
            }
            function asignarLugar(dep, prov, dis, sgcomponent){
            	dep.value = sgcomponent.getSelectedItems().pluck('idDprtmnto');
            	prov.value = sgcomponent.getSelectedItems().pluck('idPrvnca');
            	dis.value = sgcomponent.getSelectedItems().pluck('idDstrto');
            }
            
            window.onload = function() {
            
           		var movilidad = document.getElementById('frmDatosGenerales:movilidad').value;
           		if(movilidad == 1){
           			document.getElementById('frmDatosGenerales:chkMovilidad').checked = true;
           		}else{
           			document.getElementById('frmDatosGenerales:chkMovilidad').checked = false;
           		}
           		
           		var refrigerio = document.getElementById('frmDatosGenerales:refrigerio').value;
           		if(refrigerio == 1){
           			document.getElementById('frmDatosGenerales:chkRefrigerio').checked = true;
           		}else{
           			document.getElementById('frmDatosGenerales:chkRefrigerio').checked = false;
           		}
           		
           		var bonificacion = document.getElementById('frmDatosGenerales:bonificacion').value;
           		if(bonificacion == 1){
           			document.getElementById('frmDatosGenerales:chkBonificacion').checked = true;
           		}else{
           			document.getElementById('frmDatosGenerales:chkBonificacion').checked = false;
           		}
           		
           		var seguro = document.getElementById('frmDatosGenerales:seguro').value;
           		if(seguro == 1){
           			document.getElementById('frmDatosGenerales:chkSeguro').checked = true;
           		}else{
           			document.getElementById('frmDatosGenerales:chkSeguro').checked = false;
           		}
           		
           		var comisiones = document.getElementById('frmDatosGenerales:comisiones').value;
           		if(comisiones == 1){
           			document.getElementById('frmDatosGenerales:chkComisiones').checked = true;
           		}else{
           			document.getElementById('frmDatosGenerales:chkComisiones').checked = false;
           		}
           		      
        	}
            
    </script>

	<h:form id="frmDatosGenerales" enctype="multipart/form-data">

		<t:panelGroup colspan="7">
			<h:outputLabel value="Identificación" styleClass="tituloSeccion" />
			<rich:separator lineType="beveled" height="3" width="100%"
				style="background-color: #808080; background-image: url('');"
				align="center" />
		</t:panelGroup>

		<t:panelGrid columns="7" styleClass="gridContent" columnClasses=",,,celdaSeparadorFormulario,,,">

			<rich:spacer width="5" height="5" title="espacio" />
			<t:outputLabel title="#{msg['prf-ayuda-datos-empresa-numero-ruc']}"
				value="#{msg['prf-registro-datos-empresa-formulario-numero-ruc']}:"
				for="numeroDeRuc" />
			<t:panelGroup colspan="4">
				<a4j:region>
					<h:inputText id="numeroDeRuc" tabindex="0"
						style="#{UtilBean.estiloCampoRequerido}" maxlength="11"
						title="Longitud máxima: 11 caracteres" disabled="#{sesionMB.usuarioSesion.rolEmpleador}"
						value="#{registrarPedidoMB.pedidoBean.empleador.ruc}">

						<a4j:support event="onkeyup"
							oncomplete="if (#{registrarPedidoMB.pedidoBean.empleador.id gt 0}){ Richfaces.showModalPanel('modalMensaje');}"
							actionListener="#{registrarPedidoMB.buscarEmpresa}"
							reRender="razonSocial, direccionEmpresa" />
					</h:inputText>
					<h:outputText value=" (*)" />
				</a4j:region>
			</t:panelGroup>
			<rich:spacer width="5" height="5" title="espacio" />

			<rich:spacer width="5" height="5" title="espacio" />
			<t:outputLabel title="#{msg['prf-ayuda-datos-empresa-razon-social']}"
				value="#{msg['prf-registro-datos-empresa-formulario-razon-social']}:"
				for="razonSocial" />
			<t:panelGroup colspan="4">
				<a4j:region>
					<h:inputText id="razonSocial" readonly="true" 
						value="#{registrarPedidoMB.pedidoBean.empleador.razonSocial}"
						required="true" maxlength="254" styleClass="width100" />
				</a4j:region>
			</t:panelGroup>
			<rich:spacer width="5" height="5" title="espacio" />
			
			<rich:spacer width="5" height="5" title="espacio" />
			<t:outputLabel title="Direccion" value="Direccion:" for="direccionEmpresa" />
			<t:panelGroup colspan="4">
				<a4j:region>
					<h:inputText id="direccionEmpresa" readonly="true" 
						value="#{registrarPedidoMB.pedidoBean.empleador.direccion}"
						required="true" maxlength="254" styleClass="width100" />
				</a4j:region>
			</t:panelGroup>
			<rich:spacer width="5" height="5" title="espacio" />

		</t:panelGrid>
		
		<rich:spacer width="5" height="10" title="espacio" />

		<t:panelGroup colspan="7">
			<h:outputLabel value="Puesto" styleClass="tituloSeccion" />
			<rich:separator lineType="beveled" height="3" width="100%"
				style="background-color: #808080; background-image: url('');"
				align="center" />
		</t:panelGroup>

		<t:panelGrid columns="7" styleClass="gridContent" columnClasses=",,,celdaSeparadorFormulario,,,">
			
			<rich:spacer width="5" height="5" title="espacio" />
			<t:outputLabel title="Ingresar una descripcion para el puesto" value="Nombre del Puesto:" for="descripPedido" />
			<t:panelGroup colspan="4">
				<h:inputText id="descripPedido"
					value="#{registrarPedidoMB.pedidoBean.nombre}" required="true"
					maxlength="254" title="Longitud máxima: 254 caracteres"
					styleClass="width100" style="#{UtilBean.estiloCampoRequerido}" />
			</t:panelGroup>
			<h:outputText value=" (*)" />
			
			<rich:spacer width="5" height="5" title="espacio" />
			<t:outputLabel value="Nº de puestos a cubrir:" for="nroPuestosCubrir" title="Ingresar el nº de puestos a cubrir"/>
			<t:panelGroup>
				<h:inputText id="nroPuestosCubrir" onkeyup="#{UtilBean.campoSoloEntero}"
					value="#{registrarPedidoMB.pedidoBean.nroPuestosCubrir}" required="true"
					maxlength="3" title="Longitud máxima: 3 caracteres"
					styleClass="width20p" style="#{UtilBean.estiloCampoNumerico}" />
			</t:panelGroup>
			<h:outputText value=" (*)" />
			<t:outputLabel value="Nº de candidatos a enviar:" for="nroCandidatosEnviar" title="Ingresar el nº de candidatos a enviar"/>
			<t:panelGroup>
				<h:inputText id="nroCandidatosEnviar" onkeyup="#{UtilBean.campoSoloEntero}"
					value="#{registrarPedidoMB.pedidoBean.nroCandidatosEnviar}" required="true"
					maxlength="3" title="Longitud máxima: 3 caracteres"
					styleClass="width20p" style="#{UtilBean.estiloCampoNumerico}" />
			</t:panelGroup>
			<h:outputText value=" (*)" />
			
		</t:panelGrid> 
		
		<rich:spacer width="5" height="15" title="espacio" />
		
		<t:panelGroup colspan="7">
			<h:outputLabel value="Requisitos" styleClass="tituloSeccion" />
			<rich:separator lineType="beveled" height="3" width="100%"
				style="background-color: #808080; background-image: url('');" align="center" />
		</t:panelGroup>
		
		<t:panelGrid columns="7" styleClass="gridContent" columnClasses="celdaExtremoFormulario,celdaEtiquetaFormulario,,,,,celdaExtremoFormulario">
		
			<rich:spacer width="5" height="5" title="espacio" />
			<t:outputLabel title="Seleccionar estudios formales" value="Estudios formales:" for="estudiosFormales"/>
			<t:panelGroup colspan="5"> 
				<h:selectOneMenu id="estudiosFormales" required="true" style="width: 320px; #{UtilBean.estiloCampoRequerido}"
					value="#{registrarPedidoMB.pedidoBean.codEstudiosFormales}">
					<f:selectItem value="#{UtilBean.itemSeleccioneVacio}" />
					<f:selectItem itemValue="1" itemLabel="Ninguno" />
					<f:selectItem itemValue="2" itemLabel="Primaria Incompleta" />
					<f:selectItem itemValue="3" itemLabel="Primaria Completa" />
					<f:selectItem itemValue="4" itemLabel="Secundaria Incompleta" />
					<f:selectItem itemValue="5" itemLabel="Secundaria completa" />
					<f:selectItem itemValue="6" itemLabel="Basica especial" />
					<f:selectItem itemValue="7" itemLabel="Superior No universitaria Incompleta" />
					<f:selectItem itemValue="8" itemLabel="Superior No universitaria Completa" />
					<f:selectItem itemValue="9" itemLabel="Superior Universitaria Incompleta" />
					<f:selectItem itemValue="10" itemLabel="Superior Universitaria Completa" />
				</h:selectOneMenu>
				<h:outputText value=" (*)" />
			</t:panelGroup>
			
			<rich:spacer width="5" height="5" title="espacio" />
			<t:outputLabel title="Ingresar Profesíon" value="Profesíon:" for="profesion" />
			<t:panelGroup colspan="4">
				<h:inputText id="profesion" 
					value="#{registrarPedidoMB.pedidoBean.profesion}" required="true"
					maxlength="254" title="Longitud máxima: 254 caracteres"
					styleClass="width100"  />
			</t:panelGroup>
			<h:outputText value=" " />
			
			<rich:spacer width="5" height="5" title="espacio" />
			<t:outputLabel title="Seleccionar grado" value="Grado:" for="grado"/>
			<t:panelGroup colspan="4">
				<h:selectOneMenu id="grado" required="true" style="width: 320px; #{UtilBean.estiloCampoRequerido}"
					value="#{registrarPedidoMB.pedidoBean.codGrado}">
					<f:selectItem value="#{UtilBean.itemSeleccioneVacio}" />
					<f:selectItem itemValue="1" itemLabel="Bachiller" />
					<f:selectItem itemValue="2" itemLabel="Titulado" />
					<f:selectItem itemValue="3" itemLabel="Magister" />
					<f:selectItem itemValue="4" itemLabel="Doctor" />
				</h:selectOneMenu>
				<h:outputText value=" (*)" />
			</t:panelGroup>
			<h:outputText value=" " />
			
			<rich:spacer width="5" height="5" title="espacio" />
			<t:outputLabel title="Indicar si requiere licencia de conducir" value="Licencia de conducir:" for="licenciaConducir" />
			<t:panelGroup>
				<h:selectOneRadio id="licenciaConducir" layout="lineDirection" required="true" value="#{registrarPedidoMB.pedidoBean.licenciaConducir}">
					<f:selectItem itemLabel="SI" itemValue="1" />
					<f:selectItem itemLabel="NO" itemValue="0" />
					<a4j:support event="onchange" reRender="lblCategoria, txtCategoria" ajaxSingle="true" />
				</h:selectOneRadio>
			</t:panelGroup>
			<h:outputText value=" " />
			<t:outputLabel title="Indicar la categoria" value="Categoria:" 
				for="txtCategoria" id="lblCategoria" style="display:#{(registrarPedidoMB.pedidoBean.licenciaConducir eq '1')?'block':'none'}" />
			<h:inputText id="txtCategoria" value="#{registrarPedidoMB.pedidoBean.categoriaLicenciaConducir}"
				maxlength="10" title="Digite la cantidad de personas a cargo" styleClass="width5" 
				style="display:#{(registrarPedidoMB.pedidoBean.licenciaConducir eq '1')?'block':'none'};" />
			<h:outputText value=" " />
			
			<rich:spacer width="5" height="5" title="espacio" />
			<t:outputLabel title="Indicar si requiere vehiculo propio" value="Vehiculo propio:" for="vehiculoPropio" />
			<t:panelGroup>
				<h:selectOneRadio id="vehiculoPropio" layout="lineDirection" required="true" value="#{registrarPedidoMB.pedidoBean.vehiculoPropio}">
					<f:selectItem itemLabel="SI" itemValue="1" />
					<f:selectItem itemLabel="NO" itemValue="0" />
				</h:selectOneRadio>
			</t:panelGroup>
			<h:outputText value=" " /> 
			<t:outputLabel title="Indicar si requiere sexo preferente" value="Sexo preferente:" for="sexoPreferente" />
			<t:panelGroup>
				<h:selectOneMenu id="sexoPreferente" required="true" style="width: 320px; #{UtilBean.estiloCampoRequerido}"
					value="#{registrarPedidoMB.pedidoBean.sexoPreferente}">
					<f:selectItem value="#{UtilBean.itemSeleccioneVacio}" />
					<f:selectItem itemValue="1" itemLabel="Masculino" />
					<f:selectItem itemValue="2" itemLabel="Femenino" />
					<f:selectItem itemValue="3" itemLabel="Indistinto" />
				</h:selectOneMenu>
				<h:outputText value=" (*)" />
			</t:panelGroup>
			<h:outputText value=" " /> 
			
			<rich:spacer width="5" height="5" title="espacio" />
			<t:outputLabel title="Indicar si requiere edad preferente" value="Edad preferente:" for="edadDesde" />
			<h:inputText id="edadDesde" required="true" onkeyup="#{UtilBean.campoSoloEntero}"
				value="#{registrarPedidoMB.pedidoBean.edadIni}"
				maxlength="10" title="Digite la cantidad de personas a cargo"
				styleClass="width5" style="#{UtilBean.estiloCampoNumerico}" />
			<rich:spacer width="5" height="5" title="espacio" />
			<t:outputLabel title="Indicar si requiere edad preferente" value="a:" for="edadHasta" />
			<h:inputText id="edadHasta" required="true" onkeyup="#{UtilBean.campoSoloEntero}"
				value="#{registrarPedidoMB.pedidoBean.edadFin}"
				maxlength="10" title="Digite la cantidad de personas a cargo"
				styleClass="width5" style="#{UtilBean.estiloCampoNumerico}" />
			<h:outputText value=" " /> 
		
			<rich:spacer width="5" height="5" title="espacio" />
			<t:outputLabel title="Ingresar experiencia requerida" value="Experiencia requerida:" for="experienciaRequerida" />
			<t:panelGroup colspan="4">
				<h:inputText id="experienciaRequerida" required="true" onkeyup="#{UtilBean.campoSoloDecimal}" maxlength="10"
					title="Longitud máxima: 10 digitos" value="#{registrarPedidoMB.pedidoBean.experienciaRequerida}"
					styleClass="width20p" style="#{UtilBean.estiloCampoRequerido} #{UtilBean.estiloCampoNumerico} ">
				</h:inputText>
				<rich:spacer width="5" height="5" title="espacio" />
				<h:selectOneMenu id="tipoExpRequeridad" required="true" style="width: 120px; #{UtilBean.estiloCampoRequerido}"
					value="#{registrarPedidoMB.pedidoBean.codTipoExperiencia}">
					<f:selectItem value="#{UtilBean.itemSeleccioneVacio}" />
					<f:selectItem itemValue="1" itemLabel="Años" />
					<f:selectItem itemValue="2" itemLabel="Meses" />
					<f:selectItem itemValue="3" itemLabel="Semanas" />
					<f:selectItem itemValue="4" itemLabel="dias" />
				</h:selectOneMenu>
			</t:panelGroup>		
			<h:outputText value=" " />
			
		</t:panelGrid> 

		<rich:spacer width="5" height="15" title="espacio" />

		<t:panelGroup colspan="7">
			<rich:spacer width="5" height="10" title="espacio" />
			<rich:separator lineType="beveled" height="3" width="100%"
				style="background-color: #808080; background-image: url('');"
				align="center" />
		</t:panelGroup>
		<t:panelGroup colspan="7">
			<t:panelGrid columns="2" styleClass="gridContent"
				columnClasses="columnaIzquierda,columnaDerecha">
				<rich:spacer width="5" height="5" title="espacio" />
				<t:panelGroup>
					<a4j:commandButton action="buscarPedido"
						immediate="true"
						value="#{msg['prf-registro-datos-personales-formulario-cancelar']}"
						styleClass="botonBuscar">
						<a4j:actionparam name="accion"
							value="#{(!sesionMB.usuarioSesion.rolEmpleador and sesionMB.contexto eq sesionMB.constantes.CONTEXTO_PEDIDO)?sesionMB.constantes.CONTEXTO_ADMINISTRADOR:sesionMB.constantes.CONTEXTO_PEDIDO}"
							assignTo="#{sesionMB.contexto}" />
					</a4j:commandButton>
					<rich:spacer width="5" height="5" title="espacio" />

					<t:commandButton action="#"
						value="#{msg['prf-registro-datos-personales-formulario-guardar']}"
						disabled="#{sesionMB.usuarioSesion.rolProfesional}"
						actionFor="frmDatosGenerales,frmMenu"
						actionListener="#{registrarPedidoMB.guardar}"
						styleClass="botonBuscar" />
				</t:panelGroup>

			</t:panelGrid>
		</t:panelGroup>
		
	</h:form>

</ui:composition>

</html>