<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:rich="http://richfaces.org/rich"
	xmlns:a4j="https://ajax4jsf.dev.java.net/ajax"
	xmlns:t="http://myfaces.apache.org/tomahawk">
<ui:composition>
	<h:form id="frmDatosGenerales" enctype="multipart/form-data">

		<t:panelGroup colspan="7">
			<h:outputLabel value="Entorno laboral" styleClass="tituloSeccion" />
			<rich:separator lineType="beveled" height="3" width="100%"
				style="background-color: #808080; background-image: url('');"
				align="center" />
		</t:panelGroup>
	
		<t:panelGrid columns="7" styleClass="gridContent" columnClasses=",,,celdaSeparadorFormulario,,,">
		
			<t:panelGroup colspan="7">
				<rich:spacer width="5" height="10" title="espacio" />
			</t:panelGroup>
			
			<rich:spacer width="5" height="5" title="espacio" />
			<t:outputLabel title="Indicar si la empresa tiene contratado ahora personas con discapacidad" value="¿La empresa tiene contratado ahora personas con discapacidad?:" for="contratoPcd" />
			<t:panelGroup>
				<h:selectOneRadio id="contratoPcd" layout="lineDirection"
					required="true" value="#{registrarPedidoMB.pedidoBean.contratoPcdActual}">
					<f:selectItem itemLabel="SI" itemValue="1" />
					<f:selectItem itemLabel="NO" itemValue="0" />
					<a4j:support event="onchange"
						reRender="lblContratoPcdAntes, contratoPcdAntes"
						ajaxSingle="true" />
				</h:selectOneRadio>
			</t:panelGroup>
			<h:outputText value=" " />
			<t:outputLabel id="lblContratoPcdAntes" title="Indicar si la empresa contrato antes personas con discapacidad" 
				value="¿Contrato antes?:" for="contratoPcdAntes" style="display:#{(registrarPedidoMB.pedidoBean.contratoPcdActual eq '0')?'block':'none'}"/>
			<t:panelGroup>
				<h:selectOneRadio id="contratoPcdAntes" layout="lineDirection"
					required="true" value="#{registrarPedidoMB.pedidoBean.contratoPcdAntes}"
					style="display:#{(registrarPedidoMB.pedidoBean.contratoPcdActual eq '0')?'block':'none'}">
					<f:selectItem itemLabel="SI" itemValue="1" />
					<f:selectItem itemLabel="NO" itemValue="0" />
<!-- 					<a4j:support event="onchange" -->
<!-- 						reRender="porcentajeDiscapacidad,vigenciaCertificado" -->
<!-- 						ajaxSingle="true" /> -->
				</h:selectOneRadio>
			</t:panelGroup>
			<h:outputText value=" " />

			<rich:spacer width="5" height="5" title="espacio" />
			<t:outputLabel title="Indicar si la empresa tiene adecuadas sus instalaciones para personas con discapacidad" value="¿La empresa tiene adecuadas sus instalaciones para personas con discapacidad?:" for="instalacionPcd" />
			<t:panelGroup colspan="4">
				<h:selectOneRadio id="instalacionPcd" layout="lineDirection"
					required="true" value="#{registrarPedidoMB.pedidoBean.instalacionAdecuada}">
					<f:selectItem itemLabel="SI" itemValue="1" />
					<f:selectItem itemLabel="NO" itemValue="0" />
<!-- 					<a4j:support event="onchange" -->
<!-- 						reRender="lblContratoPcdAntes, contratoPcdAntes" -->
<!-- 						ajaxSingle="true" /> -->
				</h:selectOneRadio>
			</t:panelGroup>
			<h:outputText value=" " />
			
			<rich:spacer width="5" height="10" title="espacio" />
			<t:outputLabel title="Ingresar las supresiones de barreras arquitectonicas" value="Descripción de las barreras (si las hubiese):" for="barreras" />
			<t:panelGroup colspan="4" styleClass="width100">
				<h:inputTextarea id="barreras" 
					onkeyup="contar(this, #{rich:element('outBarreras')}, 1000)"
					value="#{registrarPedidoMB.pedidoBean.barreras}"
					styleClass="width100" required="false"  maxlength="1000"
					validatorMessage="mensaje-->" />
			</t:panelGroup>
			<h:outputText styleClass="body" value="  " />
			<rich:spacer width="5" height="5" title="espacio" />
			<t:panelGroup colspan="5" styleClass="contadorCaracteres">
				<h:outputText styleClass="body" value=" " />
				<h:outputLabel id="outBarreras" value="*" title="Contador de caracteres" />
			</t:panelGroup>
			<h:outputText value=" " />
			
			<rich:spacer width="5" height="10" title="espacio" />
			<t:panelGroup colspan="6">
				<h:outputLabel styleClass="tituloFila" value="En su lugar de trabajo. ¿Con cuántas personas interactuará frecuentemente la persona con discapacidad?" />
			</t:panelGroup>
			
			<rich:spacer width="5" height="5" title="espacio" />
			<t:outputLabel title="Superiores" value="Superiores:" for="txtSuperiores" />
			<t:panelGroup>
				<h:inputText id="txtSuperiores" onkeyup="#{UtilBean.campoSoloEntero}" value="#{registrarPedidoMB.pedidoBean.nroSuperiores}"
				maxlength="4" title="Digite la cantidad de personas a cargo" styleClass="width5" 
				style="#{UtilBean.estiloCampoNumerico}" />
			</t:panelGroup>
			<t:outputLabel title="Compañeros" value="Compañeros:" for="txtCompaneros" />
			<t:panelGroup>
				<h:inputText id="txtCompaneros" onkeyup="#{UtilBean.campoSoloEntero}" value="#{registrarPedidoMB.pedidoBean.nroCompaneros}"
				maxlength="4" title="Digite la cantidad de personas a cargo" styleClass="width5" 
				style="#{UtilBean.estiloCampoNumerico}" />
			</t:panelGroup>
			<t:outputLabel title="Subordinados" value="Subordinados:" for="txtSubordinados" />
			<t:panelGroup>
				<h:inputText id="txtSubordinados" onkeyup="#{UtilBean.campoSoloEntero}" value="#{registrarPedidoMB.pedidoBean.nroSubordinados}"
				maxlength="4" title="Digite la cantidad de personas a cargo" styleClass="width5" 
				style="#{UtilBean.estiloCampoNumerico}" />
			</t:panelGroup>
			
			
			<rich:spacer width="5" height="10" title="espacio" />
			<t:outputLabel title="Ingresar las supresiones de barreras arquitectonicas" value="Señale las caracteristicas principales de los compañeros de trabajo (sexo, edad, grado instruccion, etc):" for="caractCompaneros" />
			<t:panelGroup colspan="4" styleClass="width100">
				<h:inputTextarea id="caractCompaneros" 
					onkeyup="contar(this, #{rich:element('outCaractCompaneros')}, 1000)"
					value="#{registrarPedidoMB.pedidoBean.descCompaneros}"
					styleClass="width100" required="false"  maxlength="1000"
					validatorMessage="mensaje-->" />
			</t:panelGroup>
			<h:outputText styleClass="body" value="  " />
			<rich:spacer width="5" height="5" title="espacio" />
			<t:panelGroup colspan="5" styleClass="contadorCaracteres">
				<h:outputText styleClass="body" value=" " />
				<h:outputLabel id="outCaractCompaneros" value="*" title="Contador de caracteres" />
			</t:panelGroup>
			<h:outputText value=" " />
			
			<rich:spacer width="5" height="10" title="espacio" />
			<t:panelGroup colspan="6">
				<h:outputLabel styleClass="tituloFila" value="Elementos a utilizar en el puesto de trabajo" />
			</t:panelGroup>
			
			
			
			<rich:spacer width="5" height="5" title="espacio" />
			<h:outputText value="  " />
			<t:panelGroup colspan="4">
				<t:outputLabel value="Comentarios" style="width: 100%;" />
			</t:panelGroup>						
			<h:outputText value="  " />
			
			<rich:spacer width="5" height="5" title="espacio" />
			<t:outputLabel title="Ingresar datos de ruido" value="1. Mobiliario" for="mobiliario" />
			<t:panelGroup colspan="4">
				<h:inputText id="mobiliario" 
					value="#{registrarPedidoMB.pedidoBean.descMoviliario}"
					maxlength="254" title="Ingresar comentarios. Longitud máxima: 254 caracteres"
					style="width: 100%;" />					
			</t:panelGroup>
			<h:outputText value="  " />
			
			
			<rich:spacer width="5" height="5" title="espacio" />
			<t:outputLabel title="Ingresar datos de Iluminacion" value="2. Tecnología:" for="tecnologia" />
			<t:panelGroup colspan="4">
				<h:inputText id="tecnologia" 
					value="#{registrarPedidoMB.pedidoBean.descTecnologia}"
					maxlength="254" title="Ingresar comentarios. Longitud máxima: 254 caracteres"
					style="width: 100%;" />					
			</t:panelGroup>
			<h:outputText value="  " />
			
			
			<rich:spacer width="5" height="5" title="espacio" />
			<t:outputLabel title="Ingresar datos de Ventilacion" value="3. Herramientas:" for="herramientas" />
			<t:panelGroup colspan="4">
				<h:inputText id="herramientas" 
					value="#{registrarPedidoMB.pedidoBean.descHerramientas}"
					maxlength="254" title="Ingresar comentarios. Longitud máxima: 254 caracteres"
					style="width: 100%;" />					
			</t:panelGroup>
			<h:outputText value="  " />			
			
			
			<rich:spacer width="5" height="5" title="espacio" />
			<t:outputLabel title="Ingresar datos de Temperatura" value="4. Maquinaria:" for="maquinaria" />
			<t:panelGroup colspan="4">
				<h:inputText id="maquinaria" 
					value="#{registrarPedidoMB.pedidoBean.descMaquinarias}"
					maxlength="254" title="Ingresar comentarios. Longitud máxima: 254 caracteres"
					style="width: 100%;" />					
			</t:panelGroup>
			<h:outputText value="  " />
			
			
			<rich:spacer width="5" height="5" title="espacio" />
			<t:outputLabel title="Ingresar datos de Humedad" value="5. Vehículos:" for="vehiculos" />
			<t:panelGroup colspan="4">
				<h:inputText id="vehiculos" 
					value="#{registrarPedidoMB.pedidoBean.descVehiculos}"
					maxlength="254" title="Ingresar comentarios. Longitud máxima: 254 caracteres"
					style="width: 100%;" />					
			</t:panelGroup>
			<h:outputText value="  " />
			
			
			<rich:spacer width="5" height="5" title="espacio" />
			<t:outputLabel title="Ingresar datos de  Polvo" value="6. Otros:" for="otros" />
			<t:panelGroup colspan="4">
				<h:inputText id="otros" 
					value="#{registrarPedidoMB.pedidoBean.descOtros}"
					maxlength="254" title="Ingresar comentarios. Longitud máxima: 254 caracteres"
					style="width: 100%;" />					
			</t:panelGroup>
			<h:outputText value="  " />
			
			<t:panelGroup colspan="7">
				<rich:spacer width="5" height="10" title="espacio" />
			</t:panelGroup>
			
			<rich:spacer width="5" height="10" title="espacio" />
			<t:panelGroup colspan="6">
				<h:outputLabel styleClass="tituloFila" value="Observaciones adicionales" />
			</t:panelGroup>
			
			<rich:spacer width="5" height="10" title="espacio" />
			<t:outputLabel title="Ingresar datos para equipamentos" value="Entorno Ambiental (temperatura, ruido, iluminación, etc):" for="entornoAmbiental" />
			<t:panelGroup colspan="4">
				<h:inputTextarea id="entornoAmbiental"
					onkeyup="contar(this, #{rich:element('outEntornoAmbiental')}, 1000)"
					value="#{registrarPedidoMB.pedidoBean.descEntornoAmbiental}"
					styleClass="width100" required="false"  maxlength="1000"
					validatorMessage="mensaje-->" />
			</t:panelGroup>
			<h:outputText styleClass="body" value=" (*)" />
			<rich:spacer width="5" height="5" title="espacio" />
			<t:panelGroup colspan="5" styleClass="contadorCaracteres">
				<h:outputText styleClass="body" value=" " />
				<h:outputLabel id="outEntornoAmbiental" value="*" title="Contador de caracteres" />
			</t:panelGroup>
			<h:outputText value=" " />
			
			
			<rich:spacer width="5" height="10" title="espacio" />
			<t:outputLabel title="Ingresar datos para horarios Trabajo" value="Factores de Riesgo (indicar posibles situaciones de riesgo):" for="riesgo" />
			<t:panelGroup colspan="4">
				<h:inputTextarea id="riesgo"
					onkeyup="contar(this, #{rich:element('outRiesgo')}, 1000)"
					value="#{registrarPedidoMB.pedidoBean.descFactoresRiesgo}"
					styleClass="width100" required="false"  maxlength="1000"
					validatorMessage="mensaje-->" />
			</t:panelGroup>
			<h:outputText styleClass="body" value=" (*)" />
			<rich:spacer width="5" height="5" title="espacio" />
			<t:panelGroup colspan="5" styleClass="contadorCaracteres">
				<h:outputText styleClass="body" value=" " />
				<h:outputLabel id="outRiesgo" value="*" title="Contador de caracteres" />
			</t:panelGroup>
			<h:outputText value=" " />
			
			
			<rich:spacer width="5" height="10" title="espacio" />
			<t:outputLabel title="Ingresar datos para adaptaciones" value="Proyecciones de ajustes razonables:" for="proyecciones" />
			<t:panelGroup colspan="4">
				<h:inputTextarea id="proyecciones"
					onkeyup="contar(this, #{rich:element('outProyecciones')}, 1000)"
					value="#{registrarPedidoMB.pedidoBean.descProyAjustes}"
					styleClass="width100" required="false"  maxlength="1000"
					validatorMessage="mensaje-->" />
			</t:panelGroup>
			<h:outputText styleClass="body" value=" (*)" />
			<rich:spacer width="5" height="5" title="espacio" />
			<t:panelGroup colspan="5" styleClass="contadorCaracteres">
				<h:outputText styleClass="body" value=" " />
				<h:outputLabel id="outProyecciones" value="*" title="Contador de caracteres" />
			</t:panelGroup>
			<h:outputText value=" " />
			
			<rich:spacer width="5" height="10" title="espacio" />
			<t:panelGroup colspan="6">
				<h:outputLabel styleClass="tituloFila" value="Motivo de la Contratación" />
			</t:panelGroup>
			
			<rich:spacer width="5" height="5" title="espacio" />
			<t:outputLabel title="Indicar si la empresa tiene contratado ahora personas con discapacidad" value="Cumplimiento de la cuota de empleo:" for="cuotaEmpleo" />
			<t:panelGroup>
				<h:selectOneRadio id="cuotaEmpleo" layout="lineDirection"
					required="true" value="#{registrarPedidoMB.pedidoBean.cuotaEmpleo}">
					<f:selectItem itemLabel="SI" itemValue="1" />
					<f:selectItem itemLabel="NO" itemValue="0" />
					<a4j:support event="onchange"
						reRender="lblOtro, txtOtro"
						ajaxSingle="true" />
				</h:selectOneRadio>
			</t:panelGroup>
			<h:outputText value=" " />
			<t:outputLabel id="lblOtro" title="Indicar si la empresa contrato antes personas con discapacidad" 
				value="Otro (indicar):" for="contratoPcdAntes" style="display:#{(registrarPedidoMB.pedidoBean.cuotaEmpleo eq '0')?'block':'none'}"/>
			<t:panelGroup>
				<h:inputText id="txtOtro"
								style="display:#{(registrarPedidoMB.pedidoBean.cuotaEmpleo eq '0')?'block':'none'}"
								value="#{registrarPedidoMB.pedidoBean.motivoContratoOtros}" />
			</t:panelGroup>
			<h:outputText value=" " />
			
			
		</t:panelGrid>

		<rich:spacer width="5" height="25" title="espacio" />

		<t:panelGroup colspan="7">
			<rich:spacer width="5" height="10" title="espacio" />
			<rich:separator lineType="beveled" height="3" width="100%"
				style="background-color: #808080; background-image: url('');"
				align="center" />
		</t:panelGroup>
		<t:panelGroup colspan="7">
			<t:panelGrid columns="2" styleClass="gridContent"
				columnClasses="columnaIzquierda,columnaDerecha">
				<rich:spacer width="5" height="5" title="espacio" />
				<t:panelGroup>
					<a4j:commandButton action="buscarPedido"
						immediate="true"
						value="#{msg['prf-registro-datos-personales-formulario-cancelar']}"
						styleClass="botonBuscar">
						<a4j:actionparam name="accion"
							value="#{(!sesionMB.usuarioSesion.rolEmpleador and sesionMB.contexto eq sesionMB.constantes.CONTEXTO_PEDIDO)?sesionMB.constantes.CONTEXTO_ADMINISTRADOR:sesionMB.constantes.CONTEXTO_PEDIDO}"
							assignTo="#{sesionMB.contexto}" />
					</a4j:commandButton>
					<rich:spacer width="5" height="5" title="espacio" />

					<t:commandButton action="#"
						value="#{msg['prf-registro-datos-personales-formulario-guardar']}"
						disabled="#{sesionMB.usuarioSesion.rolProfesional}"
						actionFor="frmDatosGenerales,frmMenu"
						actionListener="#{registrarPedidoMB.guardar}"
						styleClass="botonBuscar" />
				</t:panelGroup>

			</t:panelGrid>
		</t:panelGroup>

	</h:form>

</ui:composition>

</html>